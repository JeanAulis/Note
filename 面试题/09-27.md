# 9月27号

## （1）你们项目一般用网关来做什么？

用来做负载均衡和路由，作为一个统一的入口

> [!tip]
>
> 不要讲限流，鉴权



## （2）你们项目有多少个微服务？有哪些微服务？

项目有大约10个微服务，有用户微服务、设备管理微服务、健康数据服务、预警服务、订单服务、商品服务、网关服务、支付服务、社区服务、消息推送服务

> [!tip]
>
> 



## （3）你有参与过部署项目吗？你们是怎么部署项目的？

有参加过测试环境部署，正式环境是由组长部署的。

我们公司是使用Jenkins + docker自动化部署的。



## （4）docker命令你熟悉吗？说一下docker的常用命令？说一下DockerFile的常用命令？

熟悉，常用的有

- `docker run`：运行容器，如果没有的话先pull需要的镜像
- `docker pull`：从远程仓库拉取镜像
- `docker ps`：查看正在运行的容器，`-a`查看所有容器，包括停止的
- `docker rmi`：删除镜像，`-f`强制删除
- `docker rm`：删除容器
- `docker images`：查看下载过的镜像
- `docker build`：构建DockerFile
- `docker log`：查看日志
- `docker start`：启动容器
- `docker stop`：关闭容器
- `docker volume create`：创建挂载卷
- `docker volume list`：列出挂载卷

等等这些；

而DockerFile的常用命令有

- `FROM`：从哪个镜像的基础上构建而来，必须要有
- `WORKDIR`：切换到镜像内的一个目录作为工作目录，后续命令均在该目录下执行
- `COPY`：复制命令
- `RUN`：在容器内运行
- `EXPOSE`：（非强制）声明镜像提供服务的端口，实际使用以-p为准
- `CMD`：为容器运行的默认启动命令，即当容器启动时，容器内部会自动运行，一个Dockerfile只能有一个CMD，`docker run` 后的参数会完全替换 CMD
- `ENTRYPOINT`：**设置容器启动时执行的命令，具有以下特点：**
  - **不可被覆盖**：与CMD不同，ENTRYPOINT指定的命令不会被docker run命令行参数覆盖
  - **优先级更高**：如果同时存在ENTRYPOINT和CMD，CMD会作为ENTRYPOINT的参数
  - **固定入口点**：适用于需要确保容器始终以特定方式启动的场景
  - **参数传递**：docker run后面的参数会追加到ENTRYPOINT命令后面
  - **两种格式**：支持exec格式（推荐）和shell格式
  - 一个 Dockerfile 中**只能有一个 ENTRYPOINT 生效**，只会生效最后一个。



## （5）nginx你熟悉吗？你有配置过nginx吗？说一下常用的nginx配置？说一下常用的nginx支持的负载均衡策略？

nginx我也熟悉的面试官，也配置过，常用的nginx配置是HTTP的几个配置，有upstream用来配集群地址和负载均衡策略，server是nginx监听的ip和端口，用来给用户提供默认页面，location跟上自定义的上下文，能够根据负载均衡算法将请求转发到自定义的upstream集群中。



nginx支持的负载均衡策略有：

- 轮询
- 权重轮询
- ip_hash
- 最少连接
- 随机（Random）

高级

- 健康检查和故障转移
- 会话保持配置







