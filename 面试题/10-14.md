# 10月14号

## （1）怎么保证mq不丢消息？

- 开启生产者确认机制,确保生产者的消息能到达队列
- 开启持久化功能,确保消息未消费前在队列中不会丢失
- 开启消费者确认机制为auto,由spring确认消息处理成功后完成ack
- 开启消费者失败重试机制,并设置MessageRecoverer,多次重试失败后将消息投递到异常交换机然后路由到异常队列中保存,交由人工处理

> [!important]
>
> 生产者确认机制：
>
> - 

## （2）你们项目怎么解决mq的消息积压？

解决消息堆积有三种思路:

- 增加更多消费者,提高消费速度
- 在消费者内开启线程池加快消息处理速度
- 扩大队列容积,提高堆积上限



## （3）mq如何保证消费的有序性？





## （4）你项目中怎么保证mq的消费幂等性？





## （5）你有做过页面防抖吗？怎么实现？（比如在页面下单重复点了两次下单按钮）

前端节流防抖

后端可以使用接口幂等性或请求去重
